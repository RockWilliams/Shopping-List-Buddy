<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
			integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
			crossorigin="anonymous"
		/>

		<!-- JS, Popper.js, and jQuery -->
		<script
			src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
			integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
			integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
			crossorigin="anonymous"
		></script>
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
			integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
			crossorigin="anonymous"
		></script>
		<title>New Shopping List</title>
		<script
			src="https://code.jquery.com/jquery-3.5.1.min.js"
			integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			crossorigin="anonymous"
			defer
		></script>
		<script src="/scripts/app.js" defer></script>
		<link rel="stylesheet" href="/styles/noheader.css" type="text/css" />
		<link rel="stylesheet" href="/styles/home.css" type="text/css" />
	</head>
	<body>
		<div class="flexbox">
			<header>
				<h1>List Buddy</h1>
				<nav class="navbar navbar-expand">
					<ul class="navbar-nav">
						<li>
							<a class="nav-link" href="/homepage">Home</a>
						</li>
						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								data-toggle="dropdown"
								href="#"
								role="button"
								aria-expanded="false"
								>Add</a
							>
							<div class="dropdown-menu">
								<a href="/store/new" class="dropdown-item"
									>Store</a
								>
								<a href="/product/new" class="dropdown-item"
									>Product</a
								>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								data-toggle="dropdown"
								href="#"
								role="button"
								aria-expanded="false"
								>Stores</a
							>
							<div class="dropdown-menu">
								<% stores.forEach(store => { %>
								<a
									class="dropdown-item"
									href="/store/<%=store._id%>"
									><%= store.name %></a
								>
								<% }) %>
							</div>
						</li>
						<li class="nav-item dropdown">
							<a
								class="nav-link dropdown-toggle"
								data-toggle="dropdown"
								href="#"
								role="button"
								aria-expanded="false"
								>Lists</a
							>
							<div class="dropdown-menu">
								<% lists.forEach(list => { %>
								<a
									class="dropdown-item"
									href="/store/<%=list.store%>/<%= list._id %>"
									><%= list.name %></a
								>
								<% }) %>
							</div>
						</li>
						<form
						class="form-inline logout"
						action="/logout?_method=DELETE"
						method="POST"
					>
						<input type="submit" value="Logout" id="logout-submit">
						
					</form>
					</ul>
				</nav>
			</header>
			<main class="create-list-main">
				<div class="row mx-auto">
					<div class="col mx-auto">
						<div id="flex-new-list">
							<h1>New Shopping List for <%= store.name %></h1>
							<p hidden id="store-id"><%= store._id %></p>
							<input
								id="name"
								type="text"
								name="name"
								placeholder="List Name"
							/>
							<p>
								<select name="products">
									<% store.products.forEach(product => { %>
									<option value="<%= product._id %>">
										<%= product.name %>
									</option>
									<% }) %>
								</select>
								<input
									type="text"
									name="quantity"
									id="quantity"
									placeholder="Quantity"
								/>
							</p>
							<div class="flex-buttons">
								<button id="add-list">Add to list!</button>
								<button id="final">Finalize</button>
							</div>
						</div>
					</div>
					<div class="col mx-auto">
						<div id="list-div" class="content">
							<h3>List Preview...</h3>
							<ul id="list"></ul>
						</div>
					</div>
				</div>
			</main>
		</div>
	</body>
</html>
